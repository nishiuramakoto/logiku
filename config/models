
Email
    email Text
    userId UserId Maybe
    verkey Text Maybe

    UniqueEmail email

Comment json -- Adding "json" causes ToJSON and FromJSON instances to be derived.
    message Text
    userId UserId Maybe
    deriving Eq
    deriving Show

 -- By default this file is used in Model.hs (which is imported by Foundation.hs)

Blog
    ownerId UserId
    blogTitle  Text
    blogBody   Text
    deriving Show


------------------ Prolog Program Database Schema -------------------------------

User
    ident    Text
    password Text Maybe

    UniqueUser ident
    deriving Show Typeable

PrologProgram json
      userId        UserId
      name          Text
      explanation   Text
      code          Text

      UniquePrologProgram userId name
      deriving     Show

PrologGoal json
      userId          UserId
      prologProgramId PrologProgramId
      name            Text
      explanation     Text
      code            Text
      UniquePrologGoal userId prologProgramId name
      deriving Show

Tag json
	name		Text
	UniqueTag	name
	deriving Show

--------------------- Relations --------------------------------

PrologProgramsTags
	prologProgramId	PrologProgramId
	tagId		TagId
	UniquePrologProgramsTags prologProgramId tagId
	deriving Show

PrologGoalsTags
	prologGoalId	PrologGoalId
	tagId		TagId
	UniquePrologGoalsTags prologGoalId tagId
